<!DOCTYPE html>
<html lang="en">
<head>
	<title>Backbone Camera Demo</title>
    <script src="http://use.edgefonts.net/source-sans-pro:n4,i4,n6,i6,n7,i7;source-code-pro.js"></script>
    <link type="text/css" href="styles/font-awesome.min.css" rel="stylesheet" />
    <link type="text/css" href="styles/github-markdown.css" rel="stylesheet" />
    <link type="text/css" href="styles/demo.css" rel="stylesheet" />
</head>
<body>
    <a id="anchorTop"></a>
    <div style="position: absolute;">
        <div style="position: absolute; width: 200px; height: 200px;"></div>
        <div style="width: 100px; height: 100px;"></div>
    </div>
    
    <nav class="top-bar">
        <div class="row columns align-middle top-bar-row">
            <!--<div class="top-bar-title">
                <a class="top-bar-title-link" href="">OculoJS</a>
            </div>-->
            <div class="top-bar-left">
                <ul class="menu">
                    <li><a id="navDemo" href="#anchorDemo">Demo</a></li>
                    <li><a id="navGetStarted" href="#anchorGetStarted">Get Started</a></li>
                    <li><a id="navDocumentation" href="#anchorDocumentation">Documentation</a></li>
                    <li><a href="https://github.com/akucharik/backbone.cameraView">Source</a></li>
                </ul>
            </div>
            <!--
            <div class="top-bar-right">
                <a href="" style="background-image: url('images/GitHub-Mark-32px.png'); width: 32px; height: 32px; display: inline-block;"></a>
            </div>
            -->
        </div>
    </nav>
    
    <!--
    <div class="callout medium" style="background-color: #999; margin: 0;">
        <div class="row columns" style="color: #fff;">
            <p>
                A simple and intuitive 2D camera for animating HTML within a frame
            </p>
        </div>
    </div>
    -->
    
    <div class="home-banner">
        <div class="row align-middle" style="min-height: 325px;">
            <div class="columns small-12 medium-5 large-5 large-offset-1">
                 <div class="home-banner-message">
                    <h1>OculoJS</h1>
                    <p class="home-banner-headline">
                        A simple and intuitive 2D camera for animating HTML within a frame
                    </p>
                    <button type="button" class="button large">Download</button>
                </div>
            </div>
            <div class="columns small-12 medium-7 large-6" style="height: 325px; overflow: hidden; position: relative;">
                <div class="home-banner-camera">
                </div>
            </div>
        </div>
    </div>
    
    <div class="callout" style="background-color: #262626; margin: 0; padding: 2rem 0 2.6rem 0;">
        <div class="row align-middle">
            <div class="columns small-12 medium-5 large-offset-1">
                <h2 style="color: #fff;">Performance &amp; Compatibility</h2>
                <p style="color: #bbb;">Oculo uses GreenSock Animation Platform (GSAP) to handle its animation and benefits from GSAP's performance and compatibility.</p>
            </div>
            <div class="columns small-12 medium-7 large-6">
                <img src="images/greensock-logo.svg" alt="GreenSock logo" width="300" height="110" style="height: 110px; margin-left: 20px;" />
            </div>
        </div>
    </div>
    
    <a id="anchorDemo"></a>
    <div style="background-color: #eee;">
        <div class="row" style="padding-top: 2.0rem; padding-bottom: 2.0rem;">
            <div class="small-12 columns">
                <h1>Demo <a id="topDemo" href="#anchorTop" class="top"><i class="fa fa-arrow-circle-up"></i></a></h1>

                <div>
                    <div class="row">
                        <div class="shrink columns">
                            <div id="camera" style="width: 600px; height: 400px;">
                                <div class="bcv-ignore-pointer-events" style="display: none; position: absolute; width: 400px; z-index: 100; top: 60%; left: 50%; transform: translate(-50%, -50%);">
                                    <p class="home-banner-headline">
                                        A simple and intuitive 2D camera for animating HTML within a frame
                                    </p>
                                    <div class="button-group">
                                        <button type="button" class="button">Download</button>
                                        <button type="button" class="button">Demo</button>
                                    </div>
                                </div>                    
                                <div class="bcv-ignore-pointer-events">
                                    <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 100px; height: 100px; border: 1px solid blue; z-index: 1;"></div>
                                    <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 200px; height: 200px; border: 1px solid red; z-index: 1;"></div>

                                    <div style="box-sizing: border-box; position: absolute; top: 105px; left: 180px; width: 3px; height: 3px; background-color: red; z-index: 1;"></div>
                                    <div style="box-sizing: border-box; position: absolute; top: 249px; left: 615px; width: 3px; height: 3px; background-color: red; z-index: 1;"></div>

                                    <div style="box-sizing: border-box; position: absolute; top: 50%; left: 50%; width: 50px; height: 2px; background-color: red; transform: translateX(-25px) translateY(-1px); z-index: 1;"></div>
                                    <div style="box-sizing: border-box; position: absolute; top: 50%; left: 50%; width: 2px; height: 50px; background-color: red; transform: translateX(-1px) translateY(-25px); z-index: 1;"></div>

                                    <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; bottom: 0; right: 0; border: 1px solid black; z-index: 1;"></div>
                                    <div id="point" style="position: absolute; width: 4px; height: 4px; background-color: #ff9900; top: -1000px; left: -1000px; z-index: 1000;"></div>
                                </div>
                            </div>

                            <div id="scene1" style="display: none; width: 1200px; height: 700px;">
                                <div style="box-sizing: border-box; height: 100%; background-color: #def; border: 10px solid black;"></div>
                                <div style="box-sizing: border-box; position: absolute; top: 100px; left: 300px; width: 200px; height: 200px; background-color: #cdf;"></div>
                                <div id="box100" style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 100px; height: 100px; border: 1px solid green;"></div>
                                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 150px; height: 150px; border: 1px solid green;"></div>
                                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 200px; height: 200px; border: 1px solid green;"></div>
                                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 250px; height: 250px; border: 1px solid green;"></div>
                                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 300px; height: 300px; border: 1px solid green;"></div>
                            </div>

                            <div id="scene2" style="display: none; width: 1827px; height: 1215px;">
                                <img src="images/FFL-Spritesheet-White-1827x1215.png" alt="Final Fantasy Legend Sprites" width="1827" height="1215" />
                                <div id="box100" style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 100px; height: 100px; border: 1px solid green;"></div>
                                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 150px; height: 150px; border: 1px solid green;"></div>
                                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 200px; height: 200px; border: 1px solid green;"></div>
                                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 250px; height: 250px; border: 1px solid green;"></div>
                                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 300px; height: 300px; border: 1px solid green;"></div>
                            </div>

                            <div id="scene3" style="display: none; width: 1000px; height: 500px;">
                                <div style="height: 100%; background-color: #eee; border: 10px solid black;"></div>
                                <img src="images/FFL-Meat-White-64x48.png" alt="Final Fantasy Legend Meat" width="64" height="48" style="position: absolute; left: 100px; top: 100px;" />
                                <img src="images/FFL-Meat-White-64x48.png" alt="Final Fantasy Legend Meat" width="64" height="48" style="position: absolute; left: 200px; top: 100px;"/>
                                <img src="images/FFL-Meat-White-64x48.png" alt="Final Fantasy Legend Meat" width="64" height="48" style="position: absolute; left: 100px; top: 200px;"/>
                                <img src="images/FFL-Meat-White-64x48.png" alt="Final Fantasy Legend Meat" width="64" height="48" style="position: absolute; left: 200px; top: 200px;"/>
                                <div id="box100" style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 100px; height: 100px; border: 1px solid green;"></div>
                            </div>


                        </div>
                        <div class="columns demo-sidebar">
                            <div id="app" style="padding: 1.0em; background-color: gray;"></div>
                            <div id="print"></div>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>
    
    <a id="anchorGetStarted"></a>
    <div class="main" style="border-top: 1px solid #ccc;">
        <div class="row">
            <div class="small-12 columns">
                <h1>Get started <a id="topGetStarted" href="#anchorTop" class="top"><i class="fa fa-arrow-circle-up"></i></a></h1>
                <h2>1. Add Oculo and its dependencies to the page.</h2>
                <p>After you <a href="#">download</a> Oculo, add the necessary files to the page.</p>
<pre class="prettyprint"><code>&lt;script type="text/javascript" src="oculo/dist/TweenMax.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="oculo/dist/Draggable.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="oculo/dist/oculo.min.js"&gt;&lt;/script&gt;</code></pre>

                <h2>2. Set up your HTML</h2>
                <p>Create HTML elements that correspond to your camera and scene.
                    If you don't, Oculo will create a <code>&lt;div&gt;</code> for each component when you activate them, and you will have to manually add the elements to the document.</p>
<pre class="prettyprint"><code>&lt;div id="camera"&gt;&lt;/div&gt;
&lt;div id="scene" style="width: 800px; height: 400px; background-color: gray;"&gt;
    &lt;div&gt;My first scene...&lt;/div&gt;
&lt;/div&gt;</code></pre>

                <h2>3. Activate your camera</h2>
                <p>Activate your camera by creating an instance with the desired options, adding and setting the scene, and rendering it.</p>
<pre class="prettyprint"><code>var myCamera = new Oculo.Camera({
    view: '#camera',
    width: 500,
    height: 250,
    dragToMove: true,
    wheelToZoom: true
}).addScene('scene1', '#scene').setScene('scene1').render();</code></pre>
            
                <h2>4. Animate your camera</h2>
                <p>To see your new camera in action, call one of the animation methods.</p>
<pre class="prettyprint"><code>myCamera.zoomTo(2, 1, { ease: Power2.easeOut });</code></pre>
            
                <h2>5. Create reusable animations</h2>
                <p>Creating reusable animations can make working with your camera a breeze. 
                    Simply add your animation to your camera and play it in the future. 
                    If you create an animation without a defined starting point, it will play from the current camera state.</p>
<pre class="prettyprint"><code>myCamera.addAnimation('zoomTo2Then1', {
  keyframes: [{ 
      zoom: 2, 
      duration: 1, 
      options: { 
          ease: Power2.easeIn 
      }
  }, {
      zoom: 1,
      duration: 1,
      options: {
          ease: Power2.easeOut
      }
  }]
});

//Play your animation in the future
myCamera.play('zoomTo2Then1');</code></pre>
            
                <p>If you want an animation to consistently play from a defined starting point, just set the first keyframe's duration to 0.</p>
<pre class="prettyprint"><code>myCamera.addAnimation('zoomFrom1To2', {
  keyframes: [{ 
      zoom: 1, 
      duration: 0,
  }, {
      zoom: 2,
      duration: 1,
      options: {
          ease: Power2.easeOut
      }
  }]
});</code></pre>
            
            </div>
        </div>
    </div>
    
    <a id="anchorDocumentation"></a>
    <div style="border-top: 1px solid #ccc;">
        <div class="row" style="padding-top: 2.0rem; padding-bottom: 2.0rem;">
            <div class="small-12 columns">
                <h1>Documentation <a id="topDocumentation" href="#anchorTop" class="top"><i class="fa fa-arrow-circle-up"></i></a></h1>
            </div>
        </div>
    </div>
    
    <footer class="site-footer" style="border-top: 1px solid #ccc;">
        <div class="row">
            <div class="columns">&copy; <span id="copyrightYear"></span> Adam Kucharik All rights reserved.</div>
        </div>
    </footer>
    
    <script type="text/javascript" src="scripts/TweenMax.min.js"></script>
    <script type="text/javascript" src="scripts/ScrollToPlugin.js"></script>
    <script type="text/javascript" src="scripts/Draggable.min.js"></script>
    <script type="text/javascript" src="../dist/oculo.js"></script>
    <script type="text/javascript" src="scripts/demo.js"></script>
    <script type="text/javascript" src="scripts/prettify-min.js"></script>
    
    <script type="text/javascript">
        document.getElementById('copyrightYear').innerHTML = new Date().getFullYear();
        prettyPrint();
        
        var myApp = {
            scrollItems: [{
                target: '#anchorDemo',
                trigger: '#navDemo'
            }, {
                target: '#anchorGetStarted',
                trigger: '#navGetStarted'
            }, {
                target: '#anchorDocumentation',
                trigger: '#navDocumentation'
            }, {
                target: 0,
                trigger: '#topDemo'
            }, {
                target: 0,
                trigger: '#topGetStarted'
            }, {
                target: 0,
                trigger: '#topDocumentation'
            }]
        };
        
        myApp.scrollItems.forEach(function (item) {
            document.querySelector(item.trigger).addEventListener('click', function () {
                event.preventDefault();
                TweenLite.to(window, 0.7, { scrollTo: item.target, ease: Power2.easeOut });
            })
        }); 
        
        camera = new Oculo.Camera({
            view: '#camera',
            bounds: Oculo.Camera.bounds.WORLD_EDGE,
            dragToMove: true,
            //maxZoom: 6,
            //minZoom: 0.1,
            wheelToZoom: true,
            //wheelToZoomIncrement: 0.5,
            width: 600,
            height: 400
        });
        
        // Scenes
        camera.addScene('scene1', '#scene1');
        camera.addScene('scene2', new Oculo.Scene(camera, '#scene2'));
        camera.addScene('scene3', '#scene3');
        camera.setScene('scene1');
        
        // Animations
        
//        camera.addAnimations([
//            { 
//              name: 'zoomTo2',
//              keyframes: [{ 
//                  zoom: 2, 
//                  duration: 2, 
//                  options: { 
//                      ease: Power2.easeIn 
//                  }
//              }, {
//                  zoom: 1,
//                  duration: 2,
//                  options: {
//                      ease: Power2.easeOut
//                  }
//              }]
//            },
//            { name: 'moveTo500',
//              animation: [
//                  { position: {x: 500, y: 500 }},
//                  { position: {x: 1000, y: 200 }}
//              ]
//            }
//        ]);
//        
//        var animations = [
//            {
//                name: 'moveTobox100',
//                type: 'animate',
//                value: {position: '#box100', rotation:-20, zoom: 1.5},
//                duration: 2
//            }
//        ];
//        
//        animations.forEach(function (item) {
//            camera.addAnimation(item.name, new Oculo.Animation(camera)[item.type](value, duration)).;
//        });
        
        camera.addAnimation('box100', {
          keyframes: [{ 
              zoom: 0.5,
              duration: 0
          }, {
              position: '#box100',
              zoom: 2,
              duration: 1,
              options: {
                  ease: Power0.easeNone
              }
          }]
        });
        
        camera.addAnimation('box10050', {
          keyframes: [{ 
              zoom: 0.5,
              duration: 0
          }, {
              position: '#box100',
              zoom: 1.25,
              duration: 1,
              options: {
                  ease: Power0.easeNone
              }
          }]
        });
        
        camera.addAnimation('two', {
          keyframes: [{ 
              zoom: 2, 
              duration: 2, 
              options: { 
                  ease: Power2.easeIn 
              }
          }, {
              zoom: 1,
              duration: 2,
              options: {
                  ease: Power2.easeOut
              }
          }]
        });
        
        camera.addAnimation('invariant', {
          keyframes: [{ 
              origin: {x: 0, y: 0},
              position: {x: 0, y: 0},
              rotation: 0,
              zoom: 1, 
              duration: 0
          }, {
              zoom: 2,
              duration: 2,
              options: {
                  ease: Power2.easeOut
              }
          }]
        });
        
        //camera.addAnimation('moveTobox100', { duration: 2, position: '#box100', rotation:-20, zoom: 1.5 });
        camera.addAnimation('moveTobox100', new Oculo.Animation(camera).animate({position: {x:200, y:200}}, 1).animate({position: '#box100', rotation:-20, zoom: 2}, 2));
        camera.addAnimation('moveTo2000', new Oculo.Animation(camera).animate({position: {x:2000, y:500}, zoom: 1.5}, 2));
        camera.addAnimation('moveTo800Slow', new Oculo.Animation(camera).animate({position: {x:800}, zoom: 1.5}, 8));
        camera.addAnimation('rotateAt200', new Oculo.Animation(camera).rotateAt({x:200, y:200}, -50, 5));
        camera.addAnimation('rotateTo20', new Oculo.Animation(camera).rotateTo(-20, 2));
        camera.addAnimation('shakeEaseNone', new Oculo.Animation(camera).shake(0.1, 2, Oculo.Animation.shake.direction.BOTH));
        camera.addAnimation('shakeEase', new Oculo.Animation(camera).shake(0.1, 2, Oculo.Animation.shake.direction.BOTH, { ease: Power2.easeIn }));
        camera.addAnimation('shakeEaseIn', new Oculo.Animation(camera).shake(0.1, 2, Oculo.Animation.shake.direction.BOTH, { easeIn: Power2.easeIn }));
        camera.addAnimation('shakeEaseOut', new Oculo.Animation(camera).shake(0.1, 2, Oculo.Animation.shake.direction.BOTH, { easeOut: Power2.easeOut }));
        camera.addAnimation('shakeEaseInOut', new Oculo.Animation(camera).shake(0.1, 4, Oculo.Animation.shake.direction.BOTH, { easeIn: Power2.easeIn, easeOut: Power2.easeOut }));
        camera.addAnimation('shakeNoBounds', new Oculo.Animation(camera).shake(0.1, 2, Oculo.Animation.shake.direction.BOTH, { enforceBounds: false }));
        camera.addAnimation('zoomAt100', new Oculo.Animation(camera).zoomAt({x:100, y:100}, 2, 2));
        camera.addAnimation('zoomTo50', new Oculo.Animation(camera).zoomTo(0.5, 2));
        camera.addAnimation('zoomTo200', new Oculo.Animation(camera).zoomTo(2, 2));
        camera.addAnimation('instantZoom', new Oculo.Animation(camera).zoomTo(2, 0));
        camera.addAnimation('instantShake', new Oculo.Animation(camera).shake(0.1, 0));
        camera.addAnimation('backAndForth', new Oculo.Animation(camera).animate({position: '#box100', rotation:20, zoom: 1.5}, 1.5, {ease: Power4.easeOut}).animate({position: 'previous', rotation: 'previous', zoom: 'previous'}, 1.5, {ease: Power3.easeOut}));
        
        camera.addAnimation('moveTo0001', new Oculo.Animation(camera, {useFrames: true}).animate({position: {x:0,y:0}, zoom: 0.166}, 61, {ease: Power0.easeNone}));
        camera.addAnimation('moveTo0005', new Oculo.Animation(camera, {useFrames: true}).animate({position: {x:0,y:0}, zoom: 0.5}, 61, {ease: Power0.easeNone}));
        camera.addAnimation('moveTo0006', new Oculo.Animation(camera, {useFrames: true}).animate({position: {x:0,y:0}, zoom: 0.666}, 61, {ease: Power0.easeNone}));
        camera.addAnimation('moveTo001', new Oculo.Animation(camera, {useFrames: true}).animate({position: {x:0,y:0}, zoom: 1}, 61, {ease: Power0.easeNone}));
        camera.addAnimation('moveTo0015', new Oculo.Animation(camera, {useFrames: true}).animate({position: {x:0,y:0}, zoom: 1.5}, 61, {ease: Power0.easeNone}));
        camera.addAnimation('moveTo002', new Oculo.Animation(camera, {useFrames: true}).animate({position: {x:0,y:0}, zoom: 2}, 61, {ease: Power0.easeNone}));
        camera.addAnimation('moveTo006', new Oculo.Animation(camera, {useFrames: true}).animate({position: {x:0,y:0}, zoom: 6}, 61, {ease: Power0.easeNone}));
        camera.printPath = function () {
            var el = document.getElementById('print');
            var html = 'id,x,y';
            camera.path.forEach(function (item) {
                html += item.id + ',' + item.x + ',' + item.y + '<br>';
            });
            el.innerHTML = html;
        }
        
        camera.render();
        //camera.moveTo({x:200, y:200}, 0);
        //camera.play('moveTobox100');
    </script>
    
    <script>
        function markPoint (x, y, camera) {
            var pointElement = document.getElementById('point');
            var point = new Oculo.Vector2(x, y).transform(new Oculo.Matrix2().scale(camera.zoom, camera.zoom).rotate(Oculo.Math.degToRad(-camera.rotation)));

            pointElement.style.top = (point.y - 2) + 'px';
            pointElement.style.left = (point.x - 2) + 'px';
        }
    </script>
</body>
</html>