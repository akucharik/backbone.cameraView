<!DOCTYPE html>
<html lang="en">
<head>
	<title>Backbone Camera Demo</title>
    <link type="text/css" href="styles/font-awesome.min.css" rel="stylesheet" />
    <link type="text/css" href="styles/bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" href="styles/github-markdown.css" rel="stylesheet" />
    <link type="text/css" href="../src/styles/camera.css" rel="stylesheet" />
    <link type="text/css" href="styles/demo.css" rel="stylesheet" />
</head>
<body>
    <h1>Backbone Camera Demo</h1>
    
    <div class="demo-container">
        <div class="demo-main">
            <div id="camera" class="bcv-camera">
                <div class="bcv-ignore-pointer-events" style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 100px; height: 100px; border: 1px solid blue; z-index: 1;"></div>
                <div class="bcv-ignore-pointer-events" style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 200px; height: 200px; border: 1px solid red; z-index: 1;"></div>

                <div class="bcv-ignore-pointer-events" style="box-sizing: border-box; position: absolute; top: 105px; left: 180px; width: 3px; height: 3px; background-color: red; z-index: 1;"></div>
                <div class="bcv-ignore-pointer-events" style="box-sizing: border-box; position: absolute; top: 249px; left: 615px; width: 3px; height: 3px; background-color: red; z-index: 1;"></div>

                <div class="bcv-ignore-pointer-events" style="box-sizing: border-box; position: absolute; top: 50%; left: 50%; width: 50px; height: 2px; background-color: red; transform: translateX(-25px) translateY(-1px); z-index: 1;"></div>
                <div class="bcv-ignore-pointer-events" style="box-sizing: border-box; position: absolute; top: 50%; left: 50%; width: 2px; height: 50px; background-color: red; transform: translateX(-1px) translateY(-25px); z-index: 1;"></div>
                <div id="point" style="position: absolute; width: 4px; height: 4px; background-color: #ff9900; top: -1000px; left: -1000px; z-index: 1000;"></div>
            </div>

            <div id="scene" class="bcv-scene">
                <img src="images/FFL-Spritesheet-White-1827x1215.png" alt="Final Fantasy Legend Sprites" width="1827" height="1215" />
                <div id="box100" style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 100px; height: 100px; border: 1px solid green;"></div>
                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 150px; height: 150px; border: 1px solid green;"></div>
                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 200px; height: 200px; border: 1px solid green;"></div>
                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 250px; height: 250px; border: 1px solid green;"></div>
                <div style="box-sizing: border-box; position: absolute; top: 0; left: 0; width: 300px; height: 300px; border: 1px solid green;"></div>
            </div>
        
            <h2>Console Examples</h2>
            <ul>
                <li class="markdown-body">
                    <pre><code class="language-js">camera.<span class="pl-en">zoomOn</span>(<span class="pl-c1">2</span>, <span class="pl-c1">300</span>, <span class="pl-c1">300</span>, <span class="pl-c1">5</span>).<span class="pl-en">rotateAt</span>(<span class="pl-c1">30</span>, <span class="pl-c1">300</span>, <span class="pl-c1">300</span>, <span class="pl-c1">5</span>);</code></pre>
                </li>
            </ul>
        </div>
        
        <div class="demo-sidebar">
            <h2>Commands</h2>
            <ul class="demo-commands">
                <li><label>zoom:</label>
                    <input id="focusOnScale" type="text" value="" disabled />
                    <label>x:</label> 
                    <input id="focusOnX" type="text" value="300" />
                    <label>y:</label> 
                    <input id="focusOnY" type="text" value="300" />
                    <button id="focusOn">focusOn</button>
                </li>
                <li><label>rotation:</label> 
                    <input id="rotateToRotation" type="text" value="30" />
                    <label>x:</label> 
                    <input id="rotateToX" type="text" value="" disabled />
                    <label>y:</label> 
                    <input id="rotateToY" type="text" value="" disabled />
                    <button id="rotateTo">rotateTo</button>
                </li>
                <li><label>rotation:</label> 
                    <input id="rotateAtRotation" type="text" value="30" />
                    <label>x:</label> 
                    <input id="rotateAtX" type="text" value="300" />
                    <label>y:</label> 
                    <input id="rotateAtY" type="text" value="300" />
                    <button id="rotateAt">rotateAt</button>
                </li>
                <li><label>zoom:</label> 
                    <input id="zoomToScale" type="text" value="2" />
                    <label>x:</label> 
                    <input id="zoomToX" type="text" value="" disabled />
                    <label>y:</label> 
                    <input id="zoomToY" type="text" value="" disabled />
                    <button id="zoomTo">zoomTo</button>
                </li>
                <li><label>zoom:</label> 
                    <input id="zoomAtScale" type="text" value="2" />
                    <label>x:</label> 
                    <input id="zoomAtX" type="text" value="300" />
                    <label>y:</label> 
                    <input id="zoomAtY" type="text" value="300" />
                    <button id="zoomAt">zoomAt</button>
                </li>
                <li><label>zoom:</label> 
                    <input id="zoomOnScale" type="text" value="2" />
                    <label>x:</label> 
                    <input id="zoomOnX" type="text" value="300" />
                    <label>y:</label> 
                    <input id="zoomOnY" type="text" value="300" />
                    <button id="zoomOn">zoomOn</button>
                </li>
                <li><label>duration:</label> 
                    <input id="duration" type="text" value="2" /></li>
                <li>
                    <button id="pause">Pause</button>
                </li>
                <li>
                    <button id="play">Play</button>
                </li>
                <!--<li>
                    velocity x: <input id="velocityX" type="text" placeholder="1000" />
                    velocity y: <input id="velocityY" type="text" placeholder="-500" />
                    <button id="flick">flick</button>
                </li>-->
            </ul>
        </div>
    </div>
    
    <script type="text/javascript" src="../src/scripts/lib/zepto.min.js"></script>
    <script type="text/javascript" src="../src/scripts/lib/lodash.min.js"></script>
    <script type="text/javascript" src="../src/scripts/lib/backbone-min.js"></script>
    <script type="text/javascript" src="../src/scripts/lib/Draggable.min.js"></script>
    <script type="text/javascript" src="../src/scripts/lib/TweenMax.min.js"></script>
    <script type="text/javascript" src="../build/scripts/oculo.js"></script>
    <script type="text/javascript" src="../src/scripts/constants.js"></script>
    <script type="text/javascript" src="../src/scripts/focuser.js"></script>
    <script type="text/javascript" src="../src/scripts/sizableView.js"></script>
    <script type="text/javascript" src="../src/scripts/cameraView.js"></script>
    <script type="text/javascript" src="../src/scripts/cameraView3.js"></script>
    <script type="text/javascript" src="scripts/behaviorView.js"></script>
    <script type="text/javascript" src="scripts/scrollView.js"></script>
    <script type="text/javascript" src="scripts/debugPropertyView.js"></script>
    <script type="text/javascript" src="scripts/debugPropertiesView.js"></script>
    <script type="text/javascript" src="scripts/debugScrollView.js"></script>
    <script type="text/javascript" src="scripts/debugView.js"></script>
    
    <script type="text/javascript">
        // App
        var app = Object.assign({}, Backbone.Events, {

            initialize: function () {
                // Views
                app.camera = new Camera({
                    view: '#camera',
                    scene: '#scene',
                    //bounds: {
                    //    left: 0,
                    //    right: 1827,
                    //    top: 0,
                    //    bottom: 1219
                    //},
                    bounds: function () {
                        return {
                            minX: 0,
                            minY: 0,
                            maxX: this.sceneWidth,
                            maxY: this.sceneHeight
                        };
                    },
                    debug: true,
                    //defaultEase: Power2.easeOut,
                    draggable: true,
                    //maxZoom: 6,
                    //minZoom: 0.2,
                    manualZoomable: true,
                    position: {
                        x: 499,
                        y: 249
                    },
                    rotation: 0,
                    zoom: 1,
                    //zoomIncrement: 0.5,
                    width: 1000,
                    height: 500
                });
                
                // Animations
                app.animations = {
                    moveTobox100: new Oculo.Animation(app.camera).animate({position: '#box100', rotation:-20, zoom: 1.5}, 2),
                    moveTo2000: new Oculo.Animation(app.camera).animate({position: {x:2000, y:500}, zoom: 1.5}, 2),
                    rotateAt200: new Oculo.Animation(app.camera).rotateAt({x:200, y:200}, -10, 2),
                    rotateTo20: new Oculo.Animation(app.camera).rotateTo(-20, 2),
                    shake: new Oculo.Animation(app.camera).shake(0.1, 2, Oculo.Animation.shakeDirection.BOTH),
                    shakeSmooth: new Oculo.Animation(app.camera).shake(0.1, 2, Oculo.Animation.shakeDirection.BOTH, { easeIn: Power2.easeIn, easeOut: Power2.easeOut }),
                    zoomTo50: new Oculo.Animation(app.camera).zoomTo(0.5, 2),
                    zoomTo200: new Oculo.Animation(app.camera).zoomTo(2, 2),
                };
            
                app.camera.render();

                $('#flick').on('click', app.flick);
                $('#focusOn').on('click', app.focusOn);
                $('#pause').on('click', app.pause);
                $('#play').on('click', app.play);
                $('#rotateTo').on('click', app.rotateTo);
                $('#rotateAt').on('click', app.rotateAt);
                $('#zoomTo').on('click', app.zoomTo);
                $('#zoomAt').on('click', app.zoomAt);
                $('#zoomOn').on('click', app.zoomOn);
                
                window.camera = app.camera;
            },

            flick: function () {
                app.camera.dragDeccelerate({ 
                    x: parseFloat($('#velocityX').val()), 
                    y: parseFloat($('#velocityY').val())
                }, 16.6, window.performance.now());
            },
            
            focusOn: function () {
                app.camera.focusOn(parseFloat($('#focusOnX').val()), parseFloat($('#focusOnY').val()), parseFloat($('#duration').val()));
            },
            
            pause: function () {
                app.camera.pause();
            },
            
            play: function () {
                app.camera.play();
            },
            
            rotateAt: function () {
                app.camera.rotateAt(parseFloat($('#rotateAtRotation').val()), parseFloat($('#rotateAtX').val()), parseFloat($('#rotateAtY').val()), parseFloat($('#duration').val()));
            },
            
            rotateTo: function () {
                app.camera.rotateTo(parseFloat($('#rotateToRotation').val()), parseFloat($('#duration').val()));
            },
            
            zoomAt: function () {
                app.camera.zoomAt(parseFloat($('#zoomAtScale').val()), parseFloat($('#zoomAtX').val()), parseFloat($('#zoomAtY').val()), parseFloat($('#duration').val()));
            },
            
            zoomOn: function () {
                app.camera.zoomOn(parseFloat($('#zoomOnScale').val()), parseFloat($('#zoomOnX').val()), parseFloat($('#zoomOnY').val()), parseFloat($('#duration').val()));
            },
            
            zoomTo: function () {
                app.camera.zoomTo(parseFloat($('#zoomToScale').val()), parseFloat($('#duration').val()));
            }
        });

        app.initialize();
    </script>
    
</body>
</html>